<@tform class='form' method='post' name='create_form' action='jsp/admin/plugins/forms/ManageForms.jsp'  params='enctype="multipart/form-data"'>
	<@input type="hidden" name="token" value = "${token}" />
	<@box>
		<@boxHeader title='#i18n{forms.create_form.title}' />
		<@boxBody>
			<@formModel type='create' />
			<@formGroup rows=2>
				<@headerButton name='action_createForm' label='forms.create_form.buttonValidate' /> 
				<@headerButton name='action_createForm' label='portal.admin.message.buttonCancel' validate=false />
			</@formGroup>
		</@boxBody>
	</@box>
</@tform>
<@formEditor /> 

<@toastr infos=infos warnings=warnings errors=errors />


<script>
$( function(){
    $('#endMessage').toggle();
    $('#labelEndMessageButton').toggle();

    if ( $('#endMessageDisplay').prop("checked" ) ){
        $('#endMessage').toggle();
        $('#labelEndMessageButton').toggle();
    }

    $('#labelEndMessage').change( function(){
        $('#endMessage').toggle();
        $('#labelEndMessageButton').toggle();
    });

});

document.addEventListener('DOMContentLoaded', function() {
	// Initial toggle based on checkbox state
	const backupStoragePeriodGroup = document.getElementById('backupStoragePeriodGroup');
	const backupEnabled = document.getElementById('backupEnabled');

	// Hide initially
	backupStoragePeriodGroup.classList.toggle('d-none', true);

	// Show if checkbox is checked
	if (backupEnabled && backupEnabled.checked) {
		backupStoragePeriodGroup.classList.toggle('d-none', false);
	}

	// Toggle on change
	backupEnabled.addEventListener('change', function() {
		backupStoragePeriodGroup.classList.toggle('d-none');
	});
});
</script>
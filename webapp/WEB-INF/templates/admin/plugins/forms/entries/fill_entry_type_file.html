<#include "/admin/plugins/asynchronousupload/upload_commons.html" />
<@addRequiredBOJsFiles />
<#assign cssClass='' >
<#assign helpMsg='' >
<#assign hasError = false />
<#if list_responses?? && list_responses?has_content>
<#assign response_error = list_responses[0]>
<#if response_error.entry.idEntry == entry.idEntry && response_error.entry.error?? && response_error.entry.error.isDisplayableError>
<#assign hasError = true />
<#assign error = response_error.entry.error>
<#assign cssClass='is-invalid' >
</#if>
</#if>
<#assign fieldName=buildEntryName( entry, entry_iteration_number ) >
<#if list_responses?? && list_responses?has_content><#list list_responses as response><#if response.file?? && response.file.title?? && response.file.title != ''><#if listFiles??><#assign listFiles = listFiles + [response.file] ><#else><#assign listFiles = [response.file] ></#if></#if></#list></#if>
<#if !listFiles??><#assign listFiles = ''></#if>
<@formLabel labelFor=fieldName labelKey=entry.title! mandatory=required />
<@addFileBOInput fieldName=fieldName handler=uploadHandler cssClass=cssClass hasError=hasError />
<#if entry.helpMessage !=''><@formHelp labelFor=fieldName>${entry.helpMessage!}</@formHelp></#if>
<@addBOUploadedFilesBox fieldName=fieldName handler=uploadHandler listFiles=listFiles  />